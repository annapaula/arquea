{% load proto_tags %}
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>

@page {
    size:a4 landscape;
    margin: 0.5cm 1cm 6cm 1cm;
    background-image: url('graph:img/papel_timbrado_paisagem.jpg');
    background-size: cover;
    counter-increment: page;
    
    @bottom-right {
        content: 'Pág ' counter(page);
        white-space: pre;
        color: grey;
        vertical-align: bottom;
        font-family: Arial;
        font-size: 0.7em;
        margin-bottom: 0.8cm;
    }
}
body {
    font-family:Arial;font-size:9px; 
    margin:15px;
    clear:both;
    position:relative;
    left: 0;
    top: 0;
    margin: 0;
    padding: 0;
    width:100%;
    height:100%;
}
#content {
    margin: 0;
    padding: 0;
    width: 28cm;
    position:relative;
    top: 3.5cm;
    display: block;
    float: none !important;
}
h3 {font-size:1.5em;}
thead {display: table-header-group;}
tr, th, td { page-break-inside: avoid; }
th {text-align: left;}
td {
    font-size:1.1em;
    word-wrap: break-word;
}

/* PROCEDENCIA */
#tbl_content td:nth-child(1) { width:1.8cm; }
/* MARCA */
#tbl_content td:nth-child(2) { width:1.8cm; }
/* MODELO */
#tbl_content td:nth-child(3) { width:2.2cm; }
/* PART NUMBER */
#tbl_content td:nth-child(4) { width:2.5cm; }

/* DESCRICAO */
#tbl_content td:nth-child(5) { width:4.5cm; }

/* NS */
#tbl_content td:nth-child(6) { width:2.7cm; }
/* LOCAL */
#tbl_content td:nth-child(7) { width:5.7cm; }
/* POSICAO */
#tbl_content td:nth-child(8) { width:3.0cm; }
/* ESTADO */
#tbl_content td:nth-child(9) { width:1.2cm; }
/* NF */
#tbl_content td:nth-child(10) { width:2cm; }
</style>
</head>
<body>
<div id="content">
    <h3>Patrimonios do tipo {{ tipo }} {% if procedencia %} e procedencia {{procedencia}} {% endif %}</h3>
    <table id="tbl_content" border="1" repeat="1" cellpadding="5">
    <tr>
        <th>Procedência</th>
        <th>Marca</th>
        <th>Modelo</th>
        <th>Part number</th>
        <th width="30%">Descrição</th>
        <th>NS</th>
        <th>Local</th>
        <th>Posição</th>
        <th>Estado</th>
        <th>NF</th>
    </tr>
    {% for p in patrimonios %}
        <tr>
            <td>{{ p.procedencia }}</td>
            <td>{{ p.marca }}</td>
            <td>{{ p.modelo }}</td>
            <td>{{ p.part_number }}</td>
            <td>{{ p.descricao }}</td>
            <td>{{ p.ns }}</td>
            <td>{{ p.historico_atual.endereco.end }}</td>
            <td>{{ p.historico_atual.endereco.complemento }}</td>
            <td>{{ p.historico_atual.estado }}</td>
            <td>{{ p.pagamento.protocolo.num_documento }}</td>
        </tr>
    {% endfor %}
    </table>
</div>
</body>
</html>

