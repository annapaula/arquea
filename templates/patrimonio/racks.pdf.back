<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
@import url('/var/www/media/css/pdf.css');


@page {
  size:a3 landscape;
          background-image: url('/var/www/media/img/papel_timbrado.jpg');
  top: 3cm;
  left: 1.5cm;
  right: 1.5cm;
  bottom: 2cm;
  @frame footer {
                -pdf-frame-content: footerContent;
                bottom: 0.5cm;
                margin-right: 1cm;
                height: 1cm;
                left: -2.3cm;
                }
}
</style>
</head>
<body>

<table>
<tr>
{% for rack in racks %}
<td>
<h2>{{ rack.nome }} ({{ rack.vazio }} ocupado)</h2>
<table class="tabela">
  {% for eq in rack.equipamentos %}
    <tr>
      {% if forloop.first %}
        <td rowspan="{{ rack.altura }}" width="5px" style="background-color:#f00;"></td>
      {% endif %}
    <td style="background-color:#{% if eq.descricao %}000;"{% else %}fff;"{% endif %} rowspan="{{ eq.tamanho }}" width="140px"></td>
      {% if forloop.first %}
        <td rowspan="{{ rack.altura }}" width="5px" style="background-color:#f00;"></td>
      {% endif %}
      <td><img height="5" width="1" src="/var/www/branco.jpg" /></td>
    </tr>
    {% for i in eq.range %}<tr><td><img height="5" width="1" src="/var/www/branco.jpg" /></td></tr>{% endfor %}
  {% endfor %}
</table>
</td>
{% if forloop.counter|divisibleby:"6" and not forloop.last %}</tr></table><table><tr>{% endif %}
{% endfor %}
</tr>
</table>

</body>
</html>
